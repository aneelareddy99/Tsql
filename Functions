-- EXAMPLE 2:  USER DEFINED FUNCTIONS 
USE DB_OBJECTS_TEST
GO

CREATE FUNCTION FN_REPORT_EMPLOYEES (@Country varchar(30))	-- @Country is a PARAMETER. AN INPUT VALUE
RETURNS table
AS
RETURN (SELECT * FROM EMP_INFO WHERE EMP_CNTRY = @Country)

-- TO ACCESS ABOVE FUNCTION
SELECT * FROM FN_REPORT_EMPLOYEES('INDIA')				-- DYNAMIC QUERIES or PARAMETERIZED QUERIES.
SELECT * FROM FN_REPORT_EMPLOYEES('CANADA') 



-- IMPORTANT SYSTEM FUNCTIONS : FOR METADATA [SYSTEM INFORMATION] AUDITS
-- THESE SYSTEM FUNCTIONS ARE AUTO CREATED DURING THE DATABASE CREATION. 
-- STORED IN PRIMARY DATA FILE OF THE DATABASE. 
SELECT DB_NAME()			-- REPORTS CURRENTLY CONNECTED DATABASE NAME
SELECT DB_ID()				-- REPORTS CURRENTLY CONNECTED DATABASE ID
SELECT DB_NAME(5)			-- REPORTS DATABASE NAME FOR A GIVEN DATABASE ID
SELECT DB_ID('BANK DATABASE') 	-- REPORTS DATABASE ID FOR A GIVEN DATABASE NAME
SELECT OBJECT_ID('EMP_INFO') 	-- REPORTS OBJECT ID FOR A GIVEN OBJECT NAME
SELECT OBJECT_NAME(581577110) 	-- REPORTS OBJECT NAME FOR A GIVEN OBJECT ID

SELECT @@SERVERNAME			-- SYSTEM GLOBAL VARIABLE. REPORTS THE CURRENTLY CONNECTED SERVER NAME
SELECT @@VERSION			-- SYSTEM GLOBAL VARIABLE. REPORTS VERSION, EDITION OF THE CONNECTED SQL SERVER
