SELECT * FROM Reservation	

-- HOW TO AVOID QUERY BLOCKING?											 dirty reads (bad data)
SELECT * FROM Reservation	WITH (NOLOCK)		-- OLD COMMITTED DATA ++ RECENT UNCOMMITTED DATA
SELECT * FROM Reservation	WITH (READPAST)		-- OLD COMMITTED DATA  -- from SQL Server 2014 


-- HOW TO RESOLVE QUERY BLOCKING?
-- commit or rollback the open transaction


-- QUERY FOR JOINS WITH LOCK HINTS [READPAST, NOLOCK]:
SELECT * FROM TBLCOURSES  (READPAST)
INNER MERGE JOIN 
TBLSTUDENTS		(READPAST)
ON
TBLCOURSES.COURSE_ID  = TBLSTUDENTS.STD_COURSE_ID


/* 
SCHEMAS	:	 DATABASE OBJECTS USED TO GROUP MULTIPLE TABLES, OTHER DATABASE OBJECTS LIKE VIEWS, SPs, FUNCTIONS...

PURPOSE	:	USED FOR EASY END USER ACCESS
			USED FOR EASY SECURITY MANAGEMENT

DEFAULT SCHEMA : dbo	[DATABASE OWNER]

USAGE	:	SCHEMA IS USED AS A PREFIX FOR ANY OBJECT NAME.
			EX: SCHEMANAME.TABLENAME
				dbo.TABLE1
*/
CREATE SCHEMA S1			-- THIS IS LIKE A FOLDER. A CONTAINER. VIRTUAL.

CREATE TABLE S1.TABLE1 (COL1 INT, COL2 INT, COL3 INT)
INSERT INTO S1.TABLE1 VALUES (1,1,1), (2,2,2), (3,3,3)
SELECT * FROM S1.TABLE1	

CREATE TABLE S1.TABLE2 (COL1 INT, COL2 INT, COL3 INT)
INSERT INTO S1.TABLE2 VALUES (11,1,1), (12,2,2), (13,3,3)
SELECT * FROM S1.TABLE2

CREATE TABLE TABLE2 (COL1 INT, COL2 INT, COL3 INT)		-- THIS TABLE BELONGS TO DEFAULT SCHEMA : dbo
INSERT INTO TABLE2 VALUES (111,1,1), (112,2,2), (113,3,3)
SELECT * FROM TABLE2

-- HOW TO TRANSFER OR MIGRATE A TABLE FROM ONE SCHEMA TO ANOTHER?
CREATE SCHEMA S2
ALTER SCHEMA S2 TRANSFER S1.TABLE1	
SELECT * FROM S2.TABLE1									-- 2 PART NAMING CONVENTION
SELECT * FROM DB_TRAN.S2.TABLE1							-- 3 PART NAMING CONVENTION

SELECT @@SERVERNAME

SELECT * FROM [SQLSCHOOL\INSTANCE1].DB_TRAN.S2.TABLE1		-- 3 PART NAMING CONVENTION

SELECT * FROM SYS.TABLES 

SELECT SCHEMA_NAME(5)
